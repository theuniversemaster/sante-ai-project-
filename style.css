/* style.css — version complète et fonctionnelle */

/* ------------------ Thème ------------------ */
:root {
    --blue: #0a84ff; --blue-light: #eef6ff; --red: #ff453a;
    --bg: #f7f7fa; --card: #ffffff; --text: #1d1d1f;
    --text-muted: #6e6e73; --border: #e5e5ea;
    --nav-h: 68px; --radius: 18px; --shadow: 0 6px 14px rgba(0, 0, 0, 0.06);
}
[data-theme="dark"] {
    --bg: #1c1c1e; --card: #2c2c2e; --text: #f5f5f7;
    --text-muted: #9e9e9e; --border: #3a3a3c; --shadow: 0 6px 14px rgba(0, 0, 0, 0.4);
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html { font-family: "Inter", system-ui, sans-serif; -webkit-font-smoothing: antialiased; }
body { background: var(--bg); color: var(--text); display: flex; justify-content: center; min-height: 100vh; }
#app { max-width: 430px; width: 100%; overflow-x: hidden; position: relative; }

/* ------------------ Écrans ------------------ */
.screen {
    display: none; padding: 1.2rem 1.4rem calc(var(--nav-h) + 1.2rem);
    min-height: 100vh; animation: fade 0.4s ease both;
}
.screen.active { display: block; }
@keyframes fade { from { opacity: 0; transform: translateY(12px); } }

/* ------------------ Headers ------------------ */
.fixed-header, .dash-header {
    display: flex; justify-content: space-between; align-items: center;
    position: sticky; top: 0; backdrop-filter: blur(8px);
    background: color-mix(in srgb, var(--card) 90%, transparent);
    padding: 0.6rem; border-bottom: 1px solid var(--border); z-index: 10;
}

/* ------------------ Typo ------------------ */
h1, h2, h3 { font-weight: 600; }
h1 { font-size: 1.75rem; margin-bottom: 0.4rem; text-align: center; }
h2 { font-size: 1.5rem; margin-bottom: 1.4rem; text-align: center; }
h3 { font-size: 1.25rem; margin: 1rem 0 0.6rem; }
.subtitle { color: var(--text-muted); text-align: center; margin-bottom: 1.6rem; line-height: 1.4; }

/* ------------------ Boutons ------------------ */
button { cursor: pointer; border: none; user-select: none; transition: transform 0.12s, background 0.25s; }
button:active { transform: scale(0.96); }
.btn-primary { background: var(--blue); color: #fff; width: 100%; padding: 1rem; border-radius: var(--radius); font-weight: 600; box-shadow: var(--shadow); }
.btn-secondary { background: var(--card); color: var(--text); width: 100%; padding: 1rem; border-radius: var(--radius); font-weight: 600; border: 1px solid var(--border); }
.btn-danger { background: var(--red); color: #fff; width: 100%; padding: 1rem; border-radius: var(--radius); font-weight: 600; margin-top: 1rem; }
.icon-btn { width: 44px; height: 44px; border-radius: 50%; display: grid; place-items: center; background: transparent; color: var(--text); }
.icon-btn:hover { background: var(--blue-light); }

/* ------------------ Grids & Cartes ------------------ */
.feature-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.8rem; }
.feature-btn { display: flex; flex-direction: column; align-items: center; gap: 0.4rem; background: var(--card); padding: 1rem; border-radius: var(--radius); box-shadow: var(--shadow); }
.feature-btn .material-symbols-outlined { color: var(--blue); font-size: 28px; }
.card-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
.card { background: var(--card); border-radius: var(--radius); padding: 1.2rem; box-shadow: var(--shadow); display: flex; flex-direction: column; }
.card h4 { font-weight: 500; color: var(--text-muted); }
.card-highlight { font-size: 1.2rem; font-weight: 600; margin-top: 0.5rem;}

/* ------------------ Formulaires ------------------ */
.form-field { display: flex; flex-direction: column; gap: 4px; margin-bottom: 1rem; }
.form-field > span { font-size: 0.9rem; color: var(--text-muted); }
.form-field input, .form-field select, .form-field textarea {
    padding: 0.9rem 1rem; border-radius: var(--radius); border: 1px solid var(--border);
    background: var(--card); color: var(--text); font-size: 1rem; width: 100%;
}
.form-field input:focus, .form-field select:focus, .form-field textarea:focus { outline: 2px solid var(--blue); }
.form-field textarea { resize: vertical; }
.range-field input { width: 100%; }

/* ------------------ Avatar ------------------ */
.avatar-placeholder { width: 54px; height: 54px; border-radius: 50%; background: var(--blue); color: #fff; display: grid; place-items: center; font-size: 1.5rem; font-weight: 600; box-shadow: var(--shadow); }
.dash-header > div { display: flex; align-items: center; gap: 0.8rem; }

/* ------------------ Bottom nav ------------------ */
#bottom-nav {
    position: fixed; bottom: 0; left: 50%; translate: -50%; width: 100%; max-width: 430px;
    height: var(--nav-h); background: var(--card); border-top: 1px solid var(--border);
    display: flex; justify-content: space-around; align-items: center; z-index: 50;
}
.nav-btn { background: none; display: flex; flex-direction: column; align-items: center; gap: 2px; flex-grow: 1; font-size: 10px; color: var(--text-muted); }
.nav-btn.active, .nav-btn:hover { color: var(--blue); }
.nav-btn .material-symbols-outlined { font-size: 24px; }

/* ------------------ Chat ------------------ */
.chat-content { padding: 1rem 1.2rem; display: flex; flex-direction: column; gap: 0.8rem; flex-grow: 1; overflow-y: auto; }
#chat-screen { display: flex; flex-direction: column; }
.chat-message { max-width: 80%; padding: 0.8rem 1rem; border-radius: var(--radius); line-height: 1.4; animation: slide-up 0.25s ease both; }
@keyframes slide-up { from { opacity: 0; transform: translateY(8px); } }
.user-message { background: var(--blue); color: #fff; margin-left: auto; border-bottom-right-radius: 6px; }
.assistant-message { background: var(--card); color: var(--text); border-bottom-left-radius: 6px; }
.chat-input-area {
    width: 100%; background: var(--card); border-top: 1px solid var(--border);
    display: flex; gap: 0.6rem; padding: 0.6rem 0.8rem; margin-top: auto;
}
.chat-input-area input { flex: 1; border: none; background: var(--bg); border-radius: var(--radius); padding: 0.8rem 1rem; }
.chat-input-area input:focus { outline: 2px solid var(--blue); }

/* ------------------ Dossier Santé & RDV ------------------ */
.record-section { margin-bottom: 2rem; }
.record-item { display: flex; justify-content: space-between; padding: 0.8rem 0; border-bottom: 1px solid var(--border); }
.record-label { color: var(--text-muted); }
.record-value { font-weight: 500; text-align: right; }
.appointment-card {
    background: var(--card); border-radius: var(--radius); padding: 1rem;
    margin-bottom: 1rem; box-shadow: var(--shadow); cursor: pointer;
    display: flex; align-items: center; gap: 1rem;
}
.appointment-date { display: flex; flex-direction: column; align-items: center; background: var(--blue-light); color: var(--blue); padding: 0.6rem; border-radius: 12px; }
.appointment-day { font-size: 1.5rem; font-weight: 700; }
.appointment-month { font-size: 0.8rem; text-transform: uppercase; }
.appointment-title { font-weight: 600; }
.appointment-time { color: var(--text-muted); }
.empty-state { text-align: center; margin-top: 4rem; color: var(--text-muted); }
.empty-state .material-symbols-outlined { font-size: 4rem; }

/* ------------------ Settings & Switch ------------------ */
.setting-block { display: flex; align-items: center; padding: 1rem; background: var(--card); border-radius: var(--radius); }
.switch { position: relative; display: inline-block; width: 48px; height: 28px; margin-right: 1rem; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; inset: 0; background: var(--border); border-radius: 34px; transition: background 0.25s; }
.slider:before { content: ""; position: absolute; height: 20px; width: 20px; left: 4px; top: 4px; background: var(--card); border-radius: 50%; transition: transform 0.25s; box-shadow: var(--shadow); }
.switch input:checked + .slider { background: var(--blue); }
.switch input:checked + .slider:before { transform: translateX(20px); }

/* ------------------ Modals ------------------ */
.modal-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 100;
    display: none; align-items: center; justify-content: center; padding: 1rem;
}
.modal-overlay.active { display: flex; }
.modal-content { background: var(--bg); border-radius: var(--radius); padding: 1.2rem; width: 100%; max-width: 400px; max-height: 90vh; overflow-y: auto; }
.modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
.modal-actions { display: flex; gap: 1rem; margin-top: 1rem; }

/* ------------------ Accessibilité ------------------ */
@media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; } }